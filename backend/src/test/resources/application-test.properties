# Test Configuration
spring.application.name=guardianes-backend-test

# Disable database auto-configuration for most tests
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,org.springframework.boot.actuate.autoconfigure.metrics.SystemMetricsAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration

# Disable Redis for tests
spring.cache.type=none
spring.data.redis.repositories.enabled=false

# Security for testing
spring.security.user.name=admin
spring.security.user.password=test123
spring.security.user.roles=ADMIN

# Logging
logging.level.com.guardianes=DEBUG
logging.level.org.testcontainers=INFO
logging.level.org.springframework.web=INFO

# TestContainers configuration
testcontainers.reuse.enable=true

# Actuator endpoints for testing
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

# Disable metrics that cause issues in containers
management.metrics.binders.system.enabled=false